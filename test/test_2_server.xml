<?xml version="1.0" encoding="utf-8"?>
<DS xmlns="http://www.eprosima.com/XMLSchemas/discovery-server" user_shutdown="false">

  <servers>
    <server name="server" profile_name="UDP server" >
      <subscriber topic="topic 1" />
      <publisher topic="topic 2" />
	</server>
  </servers>

  <snapshots file="snapshots_2_server.xml">
	  <snapshot time="3">Check server detects client1 and client2's and their entities</snapshot>
  </snapshots>

  <profiles>

    <participant profile_name="UDP server">
      <rtps>
        <prefix>
          47.61.73.63.6f.54.65.73.74.69.6e.67
        </prefix>
        <builtin>
          <discoveryProtocol>SERVER</discoveryProtocol>
          <metatrafficUnicastLocatorList>
            <locator>
              <udpv4>
                <address>127.0.0.1</address>
                <port>65215</port>
              </udpv4>
            </locator>
          </metatrafficUnicastLocatorList>
        </builtin>
      </rtps>
    </participant>

    <topic profile_name="topic 1">
      <name>topic_1</name>
      <dataType>sample_type_1</dataType>
    </topic>

    <topic profile_name="topic 2">
      <name>topic_2</name>
      <dataType>sample_type_2</dataType>
    </topic>

  </profiles>

  <types>
    <type>
      <struct name="sample_type_1">
        <member name="index" type="uint32" />
        <member name="message" type="string" />
      </struct>
    </type>

    <type>
      <union name="sample_type_2">
        <discriminator type="byte" />
        <case>
          <caseDiscriminator value="0" />
          <member name="index" type="uint32" />
        </case>
        <case>
          <caseDiscriminator value="1" />
          <member name="message" type="string" />
        </case>
      </union>
    </type>

  </types>

</DS>