{
    "configurations":
    {
        "configuration_files":
        {
            "INTRAPROCESS_OFF": "<CONFIG_RELATIVE_PATH>/intraprocess_off.xml",
            "INTRAPROCESS_ON": "<CONFIG_RELATIVE_PATH>/intraprocess_full.xml"
        },
        "flags":
        {
            "SHM_OFF": "-s"
        }
    },

    "tests":
    {

        "test_00_tool_help":
        {
            "processes":
            [
                {
                    "process_id": 0,
                    "xml_config_file": "<CONFIG_RELATIVE_PATH>/test_cases/test_00_tool_help.xml",
                    "environment_variables": [],
                    "flags": ["-h"],
                    "validation":
                    {
                        "exit_code_validation":
                        {
                            "expected_exit_code": 0
                        },
                        "stderr_validation":
                        {
                            "err_expected_lines": 0
                        }
                    }
                }
            ]
        },

        "test_01_trivial":
        {
            "processes":
            [
                {
                    "process_id": 0,
                    "xml_config_file": "<CONFIG_RELATIVE_PATH>/test_cases/test_01_trivial.xml",
                    "environment_variables": [],
                    "validation":
                    {
                        "count_lines_validation":
                        {
                            "file_path": "<CONFIG_RELATIVE_PATH>/test_solutions/test_01_trivial.snapshot"
                        },
                        "exit_code_validation":
                        {
                            "expected_exit_code": 0
                        },
                        "stderr_validation":
                        {
                            "err_expected_lines": 0
                        },
                        "generate_validation":
                        {
                            "disposals": false,
                            "server_endpoints": false
                        },
                        "ground_truth_validation":
                        {
                            "file_path": "<CONFIG_RELATIVE_PATH>/test_solutions/test_01_trivial.snapshot"
                        }
                    }
                }
            ]
        },

        "test_18_disposals_remote_servers_multiprocess":
        {
            "processes":
            [
                {
                    "process_id": 0,
                    "xml_config_file": "<CONFIG_RELATIVE_PATH>/test_cases/test_18_disposals_remote_servers_multiprocess.xml",
                    "environment_variables": [],
                    "validation":
                    {
                        "count_lines_validation":
                        {
                            "file_path": "<CONFIG_RELATIVE_PATH>/test_solutions/test_18_disposals_remote_servers_multiprocess.snapshot"
                        },
                        "exit_code_validation":
                        {
                            "expected_exit_code": 0
                        },
                        "stderr_validation":
                        {
                            "err_expected_lines": 0
                        },
                        "ground_truth_validation":
                        {
                            "file_path": "<CONFIG_RELATIVE_PATH>/test_solutions/test_18_disposals_remote_servers_multiprocess.snapshot"
                        }
                    }
                },
                {
                    "process_id": 1,
                    "xml_config_file": "<CONFIG_RELATIVE_PATH>/test_cases/test_18_disposals_remote_servers_multiprocess_1.xml",
                    "environment_variables": [],
                    "validation":
                    {
                        "exit_code_validation":
                        {
                            "expected_exit_code": 0
                        },
                        "stderr_validation":
                        {
                            "err_expected_lines": 0
                        }
                    }
                },
                {
                    "process_id": 2,
                    "xml_config_file": "<CONFIG_RELATIVE_PATH>/test_cases/test_18_disposals_remote_servers_multiprocess_2.xml",
                    "environment_variables": [],
                    "validation":
                    {
                        "exit_code_validation":
                        {
                            "expected_exit_code": 0
                        },
                        "stderr_validation":
                        {
                            "err_expected_lines": 0
                        }
                    }
                }
            ]
        },

        "test_22_environment_variable_setup":
        {
            "processes":
            [
                {
                    "process_id": 0,
                    "xml_config_file": "<CONFIG_RELATIVE_PATH>/test_cases/test_22_environment_variable_setup.xml",
                    "environment_variables":
                    [
                        {
                            "name": "ROS_DISCOVERY_SERVER",
                            "value": "127.0.0.1:22811"
                        }
                    ],
                    "validation":
                    {
                        "count_lines_validation":
                        {
                            "file_path": "<CONFIG_RELATIVE_PATH>/test_solutions/test_22_environment_variable_setup.snapshot"
                        },
                        "exit_code_validation":
                        {
                            "expected_exit_code": 0
                        },
                        "stderr_validation":
                        {
                            "err_expected_lines": 0
                        },
                        "generate_validation":
                        {
                            "disposals": false,
                            "server_endpoints": false
                        },
                        "ground_truth_validation":
                        {
                            "file_path": "<CONFIG_RELATIVE_PATH>/test_solutions/test_22_environment_variable_setup.snapshot"
                        }
                    }
                }
            ]
        },

        "test_23_fast_discovery_server_tool":
        {
            "processes":
            [
                {
                    "process_id": 0,
                    "xml_config_file": "<CONFIG_RELATIVE_PATH>/test_cases/test_23_fast_discovery_server_tool.xml",
                    "environment_variables": [],
                    "validation":
                    {
                        "count_lines_validation":
                        {
                            "file_path": "<CONFIG_RELATIVE_PATH>/test_solutions/test_23_fast_discovery_server_tool.snapshot"
                        },
                        "exit_code_validation":
                        {
                            "expected_exit_code": 0
                        },
                        "stderr_validation":
                        {
                            "err_expected_lines": 0
                        },
                        "ground_truth_validation":
                        {
                            "file_path": "<CONFIG_RELATIVE_PATH>/test_solutions/test_23_fast_discovery_server_tool.snapshot"
                        }
                    }
                },
                {
                    "process_id": 1,
                    "kill_time": 6,
                    "tool_config":
                    {
                        "id" : 1,
                        "address": "127.0.0.1",
                        "port": 23811
                    },
                    "validation":
                    {
                        "exit_code_validation":
                        {
                            "expected_exit_code": 0
                        },
                        "stderr_validation":
                        {
                            "err_expected_lines": 0
                        }
                    }
                }
            ]
        },

        "test_24_backup":
        {
            "clear": true,
            "processes":
            [
                {
                    "process_id": 0,
                    "xml_config_file": "<CONFIG_RELATIVE_PATH>/test_cases/test_24_backup.xml",
                    "environment_variables": [],
                    "kill_time": 2
                },
                {
                    "process_id": 1,
                    "xml_config_file": "<CONFIG_RELATIVE_PATH>/test_cases/test_24_backup_1.xml",
                    "environment_variables": [],
                    "validation":
                    {
                        "count_lines_validation":
                        {
                            "file_path": "<CONFIG_RELATIVE_PATH>/test_solutions/test_24_backup_1.snapshot"
                        },
                        "exit_code_validation":
                        {
                            "expected_exit_code": 0
                        },
                        "stderr_validation":
                        {
                            "err_expected_lines": 0
                        },
                        "ground_truth_validation":
                        {
                            "file_path": "<CONFIG_RELATIVE_PATH>/test_solutions/test_24_backup_1.snapshot"
                        }
                    }
                },
                {
                    "process_id": 2,
                    "creation_time": 5,
                    "xml_config_file": "<CONFIG_RELATIVE_PATH>/test_cases/test_24_backup.xml",
                    "environment_variables": [],
                    "validation":
                    {
                        "count_lines_validation":
                        {
                            "file_path": "<CONFIG_RELATIVE_PATH>/test_solutions/test_24_backup.snapshot"
                        },
                        "exit_code_validation":
                        {
                            "expected_exit_code": 0
                        },
                        "stderr_validation":
                        {
                            "err_expected_lines": 0
                        },
                        "ground_truth_validation":
                        {
                            "file_path": "<CONFIG_RELATIVE_PATH>/test_solutions/test_24_backup.snapshot"
                        }
                    }
                }
            ]
        }
    }
}