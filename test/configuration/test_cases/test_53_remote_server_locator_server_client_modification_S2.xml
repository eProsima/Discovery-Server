<?xml version="1.0" encoding="utf-8"?>
<DS xmlns="http://www.eprosima.com/XMLSchemas/discovery-server" user_shutdown="false">
    <servers>
        <server name="server_2" profile_name="server_2" creation_time="1">
        </server>
    </servers>

    <snapshots file="./test_53_remote_server_locator_server_client_modification_S2~">
        <snapshot time="3">Initial, S2 knows C2</snapshot>
        <snapshot time="11">S2 knows C1 because S2 adds S1_1 as remote server</snapshot>
        <snapshot time="16">S2 does not know S1_1 after the Server_1 modifies its locator</snapshot>
        <snapshot time="24">Nothing has changed with respect to the previous snapshot</snapshot>
        <snapshot time="32">S2 knows C3 because S2 updates its remote server locator</snapshot>
    </snapshots>

    <!--
        The tool does not save the initial environment file.
        Therefore, the participant is launched after modifying the file setting the correct initial value.
        This allows to use the same file in all tests without concerning with the initial values.
    -->
    <environment>
        <change time="0" key="ROS_DISCOVERY_SERVER"></change>
        <change time="4" key="ROS_DISCOVERY_SERVER">localhost:11811</change>
        <change time="25" key="ROS_DISCOVERY_SERVER">localhost:11813</change>
    </environment>

    <profiles>
        <participant profile_name="server_2">
            <rtps>
                <prefix>44.53.01.5f.45.50.52.4f.53.49.4d.41</prefix>
                <builtin>
                    <discovery_config>
                        <discoveryProtocol>SERVER</discoveryProtocol>
                    </discovery_config>
                    <metatrafficUnicastLocatorList>
                        <locator>
                            <udpv4>
                                <address>127.0.0.1</address>
                                <port>11812</port>
                            </udpv4>
                        </locator>
                    </metatrafficUnicastLocatorList>
                </builtin>
            </rtps>
        </participant>
    </profiles>
</DS>
