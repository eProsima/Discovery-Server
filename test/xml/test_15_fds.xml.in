<?xml version="1.0" encoding="utf-8"?>
<DS xmlns="http://www.eprosima.com/XMLSchemas/discovery-server" user_shutdown="false">
  
  <!-- This test checks the clients can use a default server generated by a fastrtps external tool -->
  
  <clients>
    <client name="client1" profile_name="UDP client"/>
    <client name="client2" profile_name="UDP client"/>
    <client name="client3" profile_name="UDP client"/>
    <client name="client4" profile_name="UDP client"/>
  </clients>

  <snapshots>
    <snapshot time="5">Check all clients met the server and know each other</snapshot>
  </snapshots>
  
  <profiles>
    
    <participant profile_name="UDP client" >
      <rtps>
        <builtin>
            <discovery_config>
              <discoveryProtocol>CLIENT</discoveryProtocol>
              <discoveryServersList>
                <RemoteServer prefix="44.49.53.43.53.45.52.56.45.52.5F.35">
                  <metatrafficUnicastLocatorList>
                    <locator>
                      <udpv4>
                        <address>127.0.0.1</address>
                        <port>${RANDOM_PORT}</port>
                      </udpv4>
                    </locator>
                  </metatrafficUnicastLocatorList>
                </RemoteServer>
              </discoveryServersList>
            </discovery_config>
        </builtin>
      </rtps>
    </participant>
    
  </profiles>
  
</DS>
